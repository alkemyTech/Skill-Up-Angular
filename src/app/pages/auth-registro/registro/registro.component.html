<section class="vh-100 bg-image fondo">
  <div class="mask d-flex align-items-center h-100">
    <div class="container h-100">
      <div class="row d-flex justify-content-center align-items-center h-100">
        <div class="col-12 col-md-9 col-lg-7 col-xl-6">
          <div class="card login" style="border-radius: 30px">
            <div class="card-body p-5">
              <h2 class="text-uppercase text-center my-5">Crear cuenta</h2>

              <form [formGroup]="signUpForm" (ngSubmit)="onSignUp()">
                <div class="form-floating mb-3">
                  <input
                    type="email"
                    class="form-control"
                    id="floatingInput"
                    formControlName="first_name"
                    placeholder="Nombre"
                    [ngClass]="controlIsValid('first_name') ? '' : 'is-invalid'"
                  />
                  <div
                    *ngIf="!controlIsValid('first_name')"
                    class="invalid-feedback"
                  >
                    El nombre debe tener entre 5 a 20 caracteres.
                  </div>
                  <label for="floatingInput">Nombre</label>
                </div>

                <div class="form-floating mb-3">
                  <input
                    type="email"
                    class="form-control"
                    id="floatingInput"
                    formControlName="last_name"
                    placeholder="Apellido"
                    [ngClass]="controlIsValid('last_name') ? '' : 'is-invalid'"
                  />
                  <label for="floatingInput">Apellido</label>
                  <div
                    *ngIf="!controlIsValid('last_name')"
                    class="invalid-feedback"
                  >
                    El apellido debe tener entre 5 a 20 caracteres.
                  </div>
                </div>

                <div class="form-floating mb-3">
                  <input
                    type="email"
                    class="form-control"
                    id="floatingInput"
                    formControlName="email"
                    placeholder="name@example.com"
                    [ngClass]="controlIsValid('email') ? '' : 'is-invalid'"
                  />
                  <label for="floatingInput">Email</label>
                  <div
                    *ngIf="!controlIsValid('email')"
                    class="invalid-feedback"
                  >
                    Debe ingresarse un email valido.
                  </div>
                </div>

                <div class="form-floating mb-3">
                  <input
                    type="password"
                    class="form-control"
                    id="floatingInput"
                    formControlName="password"
                    placeholder="Contraseña"
                    [ngClass]="controlIsValid('password') ? '' : 'is-invalid'"
                  />
                  <label for="floatingInput">Contraseña</label>
                  <div
                    *ngIf="!controlIsValid('password')"
                    class="invalid-feedback"
                  >
                    La contraseña debe contener 5 o más caracteres
                  </div>
                </div>

                <div class="cotainer m-4 d-flex flex-column align-items-center">
                  <!-- Checked checkbox -->
                  <div class="form-check">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      value=""
                      id="flexCheckChecked"
                      formControlName="termsAndService"
                      checked
                    />
                    <label class="form-check-label" for="flexCheckChecked">
                      He leído y acepto los
                      <!-- Button trigger modal -->
                      <a
                        data-bs-toggle="modal"
                        data-bs-target="#exampleModal"
                        role="button"
                        class="custom-link"
                        >terminos y condiciones.</a
                      ></label
                    >
                  </div>
                </div>
                <div class="d-flex justify-content-center">
                  <button
                    type="submit"
                    class="btn btn-primary"
                    [disabled]="signUpForm.invalid"
                  >
                    Registrarse
                  </button>
                </div>

                <p class="text-center text-muted my-4">
                  ¿Ya tienes una cuenta?
                  <a routerLink="/login" class="custom-link">Identificate.</a>
                </p>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Modal -->
<div
  class="modal fade"
  id="exampleModal"
  tabindex="-1"
  aria-labelledby="exampleModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">
          Términos y condiciones de servicios
        </h1>
        <button
          type="button"
          class="btn-close"
          data-bs-dismiss="modal"
          aria-label="Close"
        ></button>
      </div>
      <div class="modal-body">
        El Usuario deberá respetar estos Términos y Condiciones de Uso del sitio
        web. Las infracciones por acción u omisión de los presentes Términos y
        Condiciones de Uso generarán el derecho a favor del Administrador de
        suspender al Usuario que las haya realizado. El Usuario se obliga a usar
        los Servicios Digitales de conformidad con estos Términos y Condiciones,
        en forma correcta y lícita. En caso contrario, el Administrador podrá
        suspender la cuenta del Usuario, por considerarlo: violatorio de estos
        Términos y Condiciones y/o de la Política de Privacidad de estos
        Servicios Digitales, ofensivo, ilegal, violatorio de derechos de
        terceros, contrario a la moral y buenas costumbres y amenaza la
        seguridad de otros Usuarios. Sin embargo, esta posibilidad no implica
        necesariamente que el contenido de toda la información disponible en los
        Servicios Digitales haya sido revisado. El Usuario se compromete a: No
        acceder a datos restringidos o a intentar violar las barreras de
        seguridad para llegar a ellos. No realizar búsquedas de vulnerabilidades
        o explotación de las mismas para cualquier fin. No divulgar información
        acerca de la detección de vulnerabilidades encontradas en los Servicios
        Digitales. Comunicar al Administrador toda información a la que tenga
        acceso que pudiera implicar un compromiso a la seguridad de la
        información o los servicios digitales. La adecuada utilización de todos
        los recursos de Internet es, sin excepción, de entera responsabilidad
        del Usuario de los Servicios Digitales.
      </div>
    </div>
  </div>
</div>
